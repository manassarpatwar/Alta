<h1>Edit Taxi: <%=h @taxiToEdit[1] %></h1>

<p>Return to <a href="/settings">viewing the taxis</a>. </p>

<h2>Current taxi information:</h2>

<table>
    <tr>
        <th>ID</th>
        <th>Registration Number</th>
        <th>Contact Number</th>
        <th>Taxi Type</th>
        <th>City</th>
        <th>Availability</th>
    </tr>
    <tr>
        <td><%=h @taxiToEdit[0] %></td>
        <td><%=h @taxiToEdit[1] %></td>
        <td><%=h @taxiToEdit[2] %></td>
        <td><%=h @taxiToEdit[3] %></td>
        <td><%=h @taxiToEdit[4] %></td>
        <td><%=h @taxiToEdit[5] %></td>
    </tr>
</table>

<h2>Change values of the taxi:</h2>

<% if @submitted && @all_ok %>
<p>Taxi Edited.</p>
<% else %>

<% if @submitted && !@all_ok %>
<p style="color:red">There were errors in your form submission, please correct them below.</p>
<% end %>

<form action="/editTaxi/<%=h @id.to_s %>" method="post">
    <% if @submitted && !@regNum_ok %>
    <p style="color:red">Please enter a valid reg number</p>
    <% end %>
    <% if @submitted && !@regNum_unique %>
    <p style="color:red">That reg number is already taken</p>
    <% end %>
    <p>Reg Number:
        <input type="text" name="regNum" value="<%=h @regNum%>" />
    </p>

    <% if @submitted && !@contact_ok %>
    <p style="color:red">Please enter a valid contact number</p>
    <% end %>
    <% if @submitted && !@contact_unique %>
    <p style="color:red">That contact number is already taken</p>
    <% end %>
    <p>Contact Number:
        <input type="text" name="contact" value="<%=h @contact%>" />
    </p>

    <% if @submitted && !@taxiType_ok %>
    <p style="color:red">Please enter a valid taxi type (S, M or L)</p>
    <% end %>
    <p>Taxi Type:
        <input type="text" name="taxiType" value="<%=h @taxiType%>" />
    </p>

    <% if @submitted && !@city_ok %>
    <p style="color:red">Please enter a valid cirty (SHEFFIELD or MANCHESTER)</p>
    <% end %>
    <p>City:
        <input type="text" name="city" value="<%=h @city%>" />
    </p>

    <input type="submit" value="Submit" />
</form>

<% end %>
